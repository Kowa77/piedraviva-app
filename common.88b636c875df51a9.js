"use strict";(self.webpackChunkpiedraviva_app=self.webpackChunkpiedraviva_app||[]).push([[76],{6241:(P,E,r)=>{r.d(E,{b:()=>u});var z=r(1985),_=r(4572),b=r(6354),s=r(5891),D=r(2615),f=r(7440);let u=(()=>{class o{app;db;constructor(a){this.app=a,this.db=(0,s.C3)(this.app)}getPizzasFromDb(){const a=(0,s.KR)(this.db,"pizzas");return new z.c(e=>{(0,s.Zy)(a,n=>{const d=[];n.forEach(c=>{const t=c.val();d.push({id:c.key||"",...t,tipo:"pizza"})}),e.next(d)},n=>{e.error(n)})})}getBebidasFromDb(){const a=(0,s.KR)(this.db,"bebidas");return new z.c(e=>{(0,s.Zy)(a,n=>{const d=[];n.forEach(c=>{const t=c.val();d.push({id:c.key||"",...t})}),e.next(d)},n=>{e.error(n)})})}getProducts(){return(0,_.z)([this.getPizzasFromDb(),this.getBebidasFromDb()]).pipe((0,b.T)(([a,e])=>[...a,...e]))}getProductById(a){const e=(0,s.KR)(this.db,`pizzas/${a}`),n=(0,s.KR)(this.db,`bebidas/${a}`),d=new z.c(t=>{(0,s.Jt)(e).then(i=>{const p=i.val();t.next(p?{...p,id:i.key||"",tipo:"pizza"}:void 0),t.complete()}).catch(i=>t.error(i))}),c=new z.c(t=>{(0,s.Jt)(n).then(i=>{const p=i.val();t.next(p?{...p,id:i.key||""}:void 0),t.complete()}).catch(i=>t.error(i))});return(0,_.z)([d,c]).pipe((0,b.T)(([t,i])=>t||i))}addReserva(a){const e=(0,s.KR)(this.db,"reservas");return Promise.resolve((0,s.VC)(e,a))}static \u0275fac=function(e){return new(e||o)(D.KVO(f.XU))};static \u0275prov=D.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()}}]);