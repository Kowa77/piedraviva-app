"use strict";(self.webpackChunkpiedraviva_app=self.webpackChunkpiedraviva_app||[]).push([[76],{6241:(l,f,o)=>{o.d(f,{b:()=>P});var p=o(1985),D=o(4572),z=o(6354),s=o(5891),_=o(2615),E=o(7440);let P=(()=>{class d{app;db;constructor(t){this.app=t,this.db=(0,s.C3)(this.app)}getPizzasFromDb(){const t=(0,s.KR)(this.db,"pizzas");return new p.c(a=>{const b=(0,s.Zy)(t,n=>{const c=[];n.forEach(e=>{const r=e.val();c.push({id:e.key||"",...r,tipo:"pizza"})}),a.next(c)},n=>{a.error(n)});return()=>b()})}getBebidasFromDb(){const t=(0,s.KR)(this.db,"bebidas");return new p.c(a=>{const b=(0,s.Zy)(t,n=>{const c=[];n.forEach(e=>{const r=e.val();c.push({id:e.key||"",...r})}),a.next(c)},n=>{a.error(n)});return()=>b()})}getProducts(){return(0,D.z)([this.getPizzasFromDb(),this.getBebidasFromDb()]).pipe((0,z.T)(([t,a])=>[...t,...a]))}getProductById(t){const a=(0,s.KR)(this.db,`pizzas/${t}`),b=(0,s.KR)(this.db,`bebidas/${t}`),n=new p.c(e=>{const r=(0,s.Zy)(a,i=>{const u=i.val();e.next(u?{...u,id:i.key||"",tipo:"pizza"}:void 0)},i=>{e.error(i)});return()=>r()}),c=new p.c(e=>{const r=(0,s.Zy)(b,i=>{const u=i.val();e.next(u?{...u,id:i.key||""}:void 0)},i=>{e.error(i)});return()=>r()});return(0,D.z)([n,c]).pipe((0,z.T)(([e,r])=>e||r),(0,z.T)(e=>(void 0===e?console.log(`Producto con ID ${t} no encontrado en pizzas ni bebidas.`):console.log(`Producto con ID ${t} encontrado:`,e),e)))}addReserva(t){const a=(0,s.KR)(this.db,"reservas");return Promise.resolve((0,s.VC)(a,t))}static \u0275fac=function(a){return new(a||d)(_.KVO(E.XU))};static \u0275prov=_.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()}}]);